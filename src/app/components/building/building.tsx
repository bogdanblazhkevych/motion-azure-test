'use client'

import { useRef } from 'react';
import styles from './styles.module.css'
import { getLinearGradient, getAnimateTransform, getAnimateStroke } from '../utils';

interface FreedomTowerPropsInterface {
    buildingIndex: number
}

export default function Building(props: FreedomTowerPropsInterface) {
    const { buildingIndex } = props;

    const strokeRef = useRef<SVGAnimateElement>(null)
    const transformRef = useRef<SVGAnimateTransformElement>(null)
    const gradientRef = useRef<SVGAnimateElement>(null)
    const secondGradientRef = useRef<SVGAnimateElement>(null)
    const accentsTransformRef = useRef<SVGAnimateTransformElement>(null)
    const accents = ["m250,182.01s-19.56,148.59-39.18,310.3m39.18-310.3s19.65,147.9,39.18,308.95m-107.96-196.07l57.1-28.56m-57.1,59.72l54.51-28.56m-54.51,62.32l49.31-23.37m-49.31,54.53l46.72-20.77m-46.72,57.12l41.53-18.18m-41.53,46.74l36.34-15.58m-36.34-173.97l62.29-33.75m73.53,61.96l-57.1-28.56m57.1,59.72l-54.51-28.56m54.51,62.32l-49.31-23.37m49.31,54.53l-46.72-20.77m46.72,57.12l-41.53-18.18m41.53,46.74l-36.34-15.58m36.34-173.97l-62.29-33.75m-57.44-4.27l46.2-8.35m59.18,8.35l-49.24-8.35m-15.61-98.97h25.67m-25.67-59.47h25.67m-105.38,414.94c.04,1.04,87.52,40.7,181.04,1.35",
                    "m195.75,468.5h110.43m-94.53-.06l.13-90.54h80.15l1.06,91.89m-90.12-114.99h96.18m-96.18-44.41h96.18m-96.18-24.87h96.18m-76.56-41.53h56.94m-58.29-59.49h58.29m-28.47,206.66s-30.89,0-30.89,30.81,30.89,30.81,30.89,30.81c0,0,30.89,0,30.89-30.81s-30.89-30.81-30.89-30.81Zm0,5.62v25.69l13.56-4.06m-70.49,70.31s50.19,14.6,111.16,0",
                    "m229.56,137.53h40.25m-40.25-15.86h41.47m-35.37-14.64h29.27m-21.95-29.29h14.64m-37.81,316.07h19.52m-24.39-26.85h23.17m-12.2-106.17h20.74m-26.83-20.75h21.96m-18.3-39.05h21.96m-28.05-18.31h19.52m48.79,211.12h-19.52m24.39-26.85h-23.17m12.2-106.17h-20.74m26.83-20.75h-21.96m18.3-39.05h-21.95m28.05-18.31h-19.52m-50.01,135.46h21.96m-29.27-20.75l30.49.61m45.13,20.14h-21.95m29.27-20.75h-29.27m-14.64,111.66s14.5-2.45,14.5,15.91m0,0c0,18.35-17.08,18.64-17.08,18.64m0,0s-15.23.28-15.52-17.08m0,0c-.32-18.76,18.1-17.46,18.1-17.46m-43.91-.61s6.3,5.3,28.05,7.32m-30.49,12.2s9.23,7.87,30.49,7.32m28.05-19.53s18.38,1.22,31.71-6.1m-32.93,26.85s20.7,3.59,35.37-8.54m-104.07,57.54s53.49,15.79,113.49,0",
                    "m161.5,476.09c22.93-67.86,88.04-68.83,88.04-68.83h1.02s63.26,1.51,86.57,68.83m-159.42-31.11s19.78-26.38,34.58-59.41m10.06-26.17c5.41-17.76,10.67-38.96,15.08-64.42m4.02-29.19c2.5-18.95,4.91-40.2,6.03-61.4m72.09,239.24s-14.04-15.43-30.87-58.06m-10.06-25.16c-5.7-18.07-11.26-39.79-15.86-65.06m-3.79-29.57c-3.9-18.68-5.34-38.55-6.5-60.37m-5.03-1.01h5.03m-96.41,228.42h29.72m-17.77-23.09h32.18m3.02-84.55h28.15m-6.03-82.54h19.1m-15.08-18.12h17.09m-13.37-20.69h33.78m77.01,228.33h-32.43m20.48-22.82l-32.63.48m-2.56-85.03h-28.15m6.03-82.54h-19.1m15.08-17.73h-17.09m-73.4,161.05h139.76m-130.72-26.17h120.66m-97.53-64.42h75.41m-67.37-29.19h59.32m-45.25-74.48h30.16m-28.15-15.1h26.14m-13.07-135.88v135.88m-113.66,286.35s104.96,68.24,226.98,0"]
    const outlines = ["m175.32,113.68c-56.32,20.12-123.92,68.42-123.92,184.36,0,104.1,54.5,153.67,106.4,177.28l.33-25.86c2.54-125.33,6.39-213.58,6.39-213.58l33.67-7.78v-46.66l50.43-.45,1.38-175.8,1.32,175.8,50.49.74v46.66l33.67,7.78s-.2,88.1,2.34,213.29l1.29,27.24c52.8-23.03,109.49-72.48,109.49-178.65,0-118.44-70.55-166.29-127.55-185.62", 
                     "m175.34,113.22c-56.32,20.09-123.91,68.32-123.91,184.1,0,0-5.84,154.88,142.49,190.53v-19.34l-8.83-10.59v-102.35h15.89v-68.82l19.42-42.35v-60h-7.06l36.01-91.39V4.79l.1,88.23,35.6,90.32h-7.16v60l19.42,42.35v68.82h17.66v102.35l-10.59,10.59v21.04s144.22-25.39,144.22-191.16c0-118.27-70.54-166.06-127.53-185.36",
                     "m175.34,110.35c-56.32,20.1-123.91,68.35-123.91,184.17,0,0-5.16,155.57,143.17,191.24h0c5.55-35.75,11.4-71.27,11.4-71.27l-12.18-74.34h12.18l-13.4-67.02h14.62l-13.4-57.27h15.84l-12.18-54.84h38.98c-7.24-7.42-8.53-53.62-8.53-53.62h7.31v-12.19c0-14.22,7.31-17.06,7.31-17.06V29.41c-.04-21.94,7.31-21.94,7.31-21.94h.3s7.35,0,7.31,21.94v48.74s7.31,2.84,7.31,17.06v12.19h7.31s-1.29,46.2-8.53,53.62h38.98l-12.18,54.84h15.84l-13.4,57.27h14.62l-13.4,67.02h12.18l-12.18,74.34s4.56,36.02,10.03,71.27h.34s144.22-25.41,144.22-191.24c0-118.32-70.54-166.12-127.53-185.43",
                     "m175.34,111.05c-56.32,20.11-123.91,68.4-123.91,184.31,0,0-3.68,110.98,84.45,167.02l.41-.47c17.15-24.07,36-54.96,48.4-88.32,26.64-69.01,32.7-98.2,32.7-98.2,0,0,25.54-93.08,28.61-213.78h-9.2v-21.48h12.26l.82-33.02,1,33.02h12.26v21.48h-9.2c3.07,120.7,28.61,213.78,28.61,213.78,0,0,6.06,29.18,32.7,98.2,12.31,33.11,30.97,63.79,48.01,87.78l.37.75c39.78-25.02,84.96-73.88,84.96-166.76,0-118.41-70.54-166.24-127.53-185.57"]
    // const accents = ["M187.51,370.82s-14.48,109.98-29,229.67m29-229.67s14.54,109.47,29,228.67m-79.91-145.12l42.26-21.14m-42.26,44.2l40.34-21.14m-40.34,46.12l36.5-17.3m-36.5,40.36l34.58-15.37m-34.58,42.28l30.74-13.45m-30.74,34.59l26.9-11.53m-26.9-128.76l46.11-24.98m54.43,45.86l-42.26-21.14m42.26,44.2l-40.34-21.14m40.34,46.12l-36.5-17.3m36.5,40.36l-34.58-15.37m34.58,42.28l-30.74-13.45m30.74,34.59l-26.9-11.53m26.9-128.76l-46.11-24.98m-42.52-3.16l34.2-6.18m43.8,6.18l-36.45-6.18m-11.55-73.25h19m-19-44.02h19m-78,307.12c.03,.77,64.78,30.12,134,1",
    //                 "M147.65,582.96h81.74m-69.97-.05l.09-67.02h59.33l.78,68.02m-66.7-85.11h71.19m-71.19-32.87h71.19m-71.19-18.41h71.19m-56.67-30.74h42.14m-43.15-44.04h43.15m-21.07,152.97s-22.86,0-22.86,22.81,22.86,22.81,22.86,22.81c0,0,22.86,0,22.86-22.81s-22.86-22.81-22.86-22.81Zm0,4.16v19.02l10.03-3m-52.18,52.04s37.15,10.81,82.28,0",
    //                 "M172.42,340.08h29.79m-29.79-11.74h30.69m-26.18-10.84h21.67m-16.25-21.68h10.83m-27.99,233.94h14.44m-18.06-19.87h17.15m-9.03-78.58h15.35m-19.86-15.36h16.25m-13.54-28.9h16.25m-20.76-13.55h14.44m36.11,156.26h-14.44m18.06-19.87h-17.15m9.03-78.58h-15.35m19.86-15.36h-16.25m13.54-28.9h-16.25m20.76-13.55h-14.44m-37.01,100.26h16.25m-21.67-15.36l22.57,.45m33.4,14.9h-16.25m21.67-15.36h-21.67m-10.83,82.65s10.73-1.81,10.73,11.77m0,0c0,13.58-12.64,13.79-12.64,13.79m0,0s-11.27,.21-11.49-12.65m0,0c-.23-13.88,13.4-12.92,13.4-12.92m-32.5-.45s4.66,3.92,20.76,5.42m-22.57,9.03s6.83,5.82,22.57,5.42m20.76-14.45s13.6,.9,23.47-4.52m-24.38,19.87s15.32,2.65,26.18-6.32m-77.03,42.59s39.59,11.68,84,0", 
    //                 "M126.27,563.11c16.97-50.23,65.17-50.94,65.17-50.94h.76s46.82,1.12,64.08,50.94m-118-23.02s14.64-19.52,25.59-43.98m7.44-19.37c4.01-13.15,7.9-28.84,11.16-47.68m2.98-21.6c1.85-14.03,3.64-29.76,4.47-45.44m53.36,177.07s-10.39-11.42-22.85-42.98m-7.44-18.62c-4.22-13.37-8.33-29.45-11.74-48.16m-2.8-21.89c-2.89-13.83-3.95-28.54-4.81-44.69m-3.72-.74h3.72m-71.36,169.07h22m-13.16-17.09h23.82m2.23-62.58h20.84m-4.47-61.09h14.14m-11.16-13.41h12.65m-9.9-15.31h25m57,169h-24m15.15-16.89l-24.15,.35m-1.89-62.93h-20.84m4.47-61.09h-14.14m11.16-13.13h-12.65m-54.33,119.2h103.45m-96.75-19.37h89.31m-72.19-47.68h55.82m-49.86-21.6h43.91m-33.49-55.13h22.33m-20.84-11.17h19.35m-9.67-100.57v100.57m-84.13,211.95s77.68,50.51,168,0"]
    // const outlines = ["M132.23,320.25c-41.69,14.89-91.72,50.64-91.72,136.46,0,77.05,40.34,113.74,78.75,131.21l.25-19.14c1.88-92.77,4.73-158.09,4.73-158.09l24.92-5.76v-34.53l37.32-.33,1.02-130.12,.98,130.12,37.37,.55v34.53l24.92,5.76s-.15,65.21,1.73,157.87l.96,20.16c39.08-17.05,81.04-53.65,81.04-132.23,0-87.67-52.22-123.08-94.41-137.39", 
    //                  "M132.54,319.99c-41.68,14.87-91.71,50.57-91.71,136.27,0,0-4.32,114.64,105.46,141.03v-14.31l-6.53-7.84v-75.75h11.76v-50.94l14.38-31.35v-44.41h-5.23l26.65-67.64v-65.3l.08,65.3,26.35,66.85h-5.3v44.41l14.38,31.35v50.94h13.07v75.75l-7.84,7.84v15.57s106.75-18.79,106.75-141.49c0-87.54-52.21-122.91-94.4-137.2", 
    //                  "M132.29,319.97c-41.68,14.88-91.71,50.59-91.71,136.31,0,0-3.82,115.15,105.97,141.55h0c4.1-26.46,8.44-52.75,8.44-52.75l-9.02-55.02h9.02l-9.92-49.61h10.82l-9.92-42.39h11.72l-9.02-40.59h28.85c-5.36-5.49-6.31-39.69-6.31-39.69h5.41v-9.02c0-10.52,5.41-12.63,5.41-12.63v-36.08c-.03-16.24,5.41-16.24,5.41-16.24h.22s5.44,0,5.41,16.24v36.08s5.41,2.1,5.41,12.63v9.02h5.41s-.95,34.2-6.31,39.69h28.85l-9.02,40.59h11.72l-9.92,42.39h10.82l-9.92,49.61h9.02l-9.02,55.02s3.37,26.66,7.42,52.75h.25s106.75-18.8,106.75-141.55c0-87.57-52.21-122.95-94.4-137.25",
    //                  "M136.52,292.92c-41.68,14.89-91.71,50.63-91.71,136.42,0,0-2.72,82.15,62.51,123.63l.3-.35c12.7-17.81,26.65-40.68,35.83-65.37,19.72-51.08,24.2-72.68,24.2-72.68,0,0,18.91-68.9,21.18-158.23h-6.81v-15.9h9.08l.61-24.44,.74,24.44h9.08v15.9h-6.81c2.27,89.34,21.18,158.23,21.18,158.23,0,0,4.48,21.6,24.2,72.68,9.11,24.51,22.92,47.21,35.54,64.97l.27,.55c29.45-18.52,62.88-54.68,62.88-123.43,0-87.64-52.21-123.05-94.4-137.35"]
    return(
        <>
            <defs>
                {getLinearGradient(gradientRef, secondGradientRef, buildingIndex, 0, 0.033, 0.15, 0.033, 0.25)}
            </defs>
            <path className={`${styles.buildingaccents}`} stroke={`url(#draw-in-${buildingIndex})`} d={accents[buildingIndex]}>
                {getAnimateTransform(accentsTransformRef, buildingIndex, 0, 0.183, 0.033, 0.25)}
            </path>

            <path className={`${styles.building}`} d={outlines[buildingIndex]}>
                {getAnimateStroke(strokeRef, buildingIndex, 2300, 0, 0.0165, 0.15, 0.25)}
                {getAnimateTransform(transformRef, buildingIndex, 0, 0.183, 0.033, 0.25)}
            </path>
        </>
    )
}