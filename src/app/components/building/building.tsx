'use client'

import { useRef } from 'react';
import styles from './styles.module.css'
import { getLinearGradient, getAnimateTransform, getAnimateStroke } from '../utils';

interface FreedomTowerPropsInterface {
    buildingIndex: number
}

export default function Building(props: FreedomTowerPropsInterface) {
    const { buildingIndex } = props;

    const strokeRef = useRef<SVGAnimateElement>(null)
    const transformRef = useRef<SVGAnimateTransformElement>(null)
    const gradientRef = useRef<SVGAnimateElement>(null)
    const secondGradientRef = useRef<SVGAnimateElement>(null)
    const accentsTransformRef = useRef<SVGAnimateTransformElement>(null)
    const accents = ["m250,182.01s-19.56,148.59-39.18,310.3m39.18-310.3s19.65,147.9,39.18,308.95m-107.96-196.07l57.1-28.56m-57.1,59.72l54.51-28.56m-54.51,62.32l49.31-23.37m-49.31,54.53l46.72-20.77m-46.72,57.12l41.53-18.18m-41.53,46.74l36.34-15.58m-36.34-173.97l62.29-33.75m73.53,61.96l-57.1-28.56m57.1,59.72l-54.51-28.56m54.51,62.32l-49.31-23.37m49.31,54.53l-46.72-20.77m46.72,57.12l-41.53-18.18m41.53,46.74l-36.34-15.58m36.34-173.97l-62.29-33.75m-57.44-4.27l46.2-8.35m59.18,8.35l-49.24-8.35m-15.61-98.97h25.67m-25.67-59.47h25.67m-105.38,414.94c.04,1.04,87.52,40.7,181.04,1.35",
                    "m195.75,468.5h110.43m-94.53-.06l.13-90.54h80.15l1.06,91.89m-90.12-114.99h96.18m-96.18-44.41h96.18m-96.18-24.87h96.18m-76.56-41.53h56.94m-58.29-59.49h58.29m-28.47,206.66s-30.89,0-30.89,30.81,30.89,30.81,30.89,30.81c0,0,30.89,0,30.89-30.81s-30.89-30.81-30.89-30.81Zm0,5.62v25.69l13.56-4.06m-70.49,70.31s50.19,14.6,111.16,0",
                    "m229.56,137.53h40.25m-40.25-15.86h41.47m-35.37-14.64h29.27m-21.95-29.29h14.64m-37.81,316.07h19.52m-24.39-26.85h23.17m-12.2-106.17h20.74m-26.83-20.75h21.96m-18.3-39.05h21.96m-28.05-18.31h19.52m48.79,211.12h-19.52m24.39-26.85h-23.17m12.2-106.17h-20.74m26.83-20.75h-21.96m18.3-39.05h-21.95m28.05-18.31h-19.52m-50.01,135.46h21.96m-29.27-20.75l30.49.61m45.13,20.14h-21.95m29.27-20.75h-29.27m-14.64,111.66s14.5-2.45,14.5,15.91m0,0c0,18.35-17.08,18.64-17.08,18.64m0,0s-15.23.28-15.52-17.08m0,0c-.32-18.76,18.1-17.46,18.1-17.46m-43.91-.61s6.3,5.3,28.05,7.32m-30.49,12.2s9.23,7.87,30.49,7.32m28.05-19.53s18.38,1.22,31.71-6.1m-32.93,26.85s20.7,3.59,35.37-8.54m-104.07,57.54s53.49,15.79,113.49,0",
                    "m161.5,476.09c22.93-67.86,88.04-68.83,88.04-68.83h1.02s63.26,1.51,86.57,68.83m-159.42-31.11s19.78-26.38,34.58-59.41m10.06-26.17c5.41-17.76,10.67-38.96,15.08-64.42m4.02-29.19c2.5-18.95,4.91-40.2,6.03-61.4m72.09,239.24s-14.04-15.43-30.87-58.06m-10.06-25.16c-5.7-18.07-11.26-39.79-15.86-65.06m-3.79-29.57c-3.9-18.68-5.34-38.55-6.5-60.37m-5.03-1.01h5.03m-96.41,228.42h29.72m-17.77-23.09h32.18m3.02-84.55h28.15m-6.03-82.54h19.1m-15.08-18.12h17.09m-13.37-20.69h33.78m77.01,228.33h-32.43m20.48-22.82l-32.63.48m-2.56-85.03h-28.15m6.03-82.54h-19.1m15.08-17.73h-17.09m-73.4,161.05h139.76m-130.72-26.17h120.66m-97.53-64.42h75.41m-67.37-29.19h59.32m-45.25-74.48h30.16m-28.15-15.1h26.14m-13.07-135.88v135.88m-113.66,286.35s104.96,68.24,226.98,0"]
    const outlines = ["m175.32,113.68c-56.32,20.12-123.92,68.42-123.92,184.36,0,104.1,54.5,153.67,106.4,177.28l.33-25.86c2.54-125.33,6.39-213.58,6.39-213.58l33.67-7.78v-46.66l50.43-.45,1.38-175.8,1.32,175.8,50.49.74v46.66l33.67,7.78s-.2,88.1,2.34,213.29l1.29,27.24c52.8-23.03,109.49-72.48,109.49-178.65,0-118.44-70.55-166.29-127.55-185.62", 
                     "m175.34,113.22c-56.32,20.09-123.91,68.32-123.91,184.1,0,0-5.84,154.88,142.49,190.53v-19.34l-8.83-10.59v-102.35h15.89v-68.82l19.42-42.35v-60h-7.06l36.01-91.39V4.79l.1,88.23,35.6,90.32h-7.16v60l19.42,42.35v68.82h17.66v102.35l-10.59,10.59v21.04s144.22-25.39,144.22-191.16c0-118.27-70.54-166.06-127.53-185.36",
                     "m175.34,110.35c-56.32,20.1-123.91,68.35-123.91,184.17,0,0-5.16,155.57,143.17,191.24h0c5.55-35.75,11.4-71.27,11.4-71.27l-12.18-74.34h12.18l-13.4-67.02h14.62l-13.4-57.27h15.84l-12.18-54.84h38.98c-7.24-7.42-8.53-53.62-8.53-53.62h7.31v-12.19c0-14.22,7.31-17.06,7.31-17.06V29.41c-.04-21.94,7.31-21.94,7.31-21.94h.3s7.35,0,7.31,21.94v48.74s7.31,2.84,7.31,17.06v12.19h7.31s-1.29,46.2-8.53,53.62h38.98l-12.18,54.84h15.84l-13.4,57.27h14.62l-13.4,67.02h12.18l-12.18,74.34s4.56,36.02,10.03,71.27h.34s144.22-25.41,144.22-191.24c0-118.32-70.54-166.12-127.53-185.43",
                     "m175.34,111.05c-56.32,20.11-123.91,68.4-123.91,184.31,0,0-3.68,110.98,84.45,167.02l.41-.47c17.15-24.07,36-54.96,48.4-88.32,26.64-69.01,32.7-98.2,32.7-98.2,0,0,25.54-93.08,28.61-213.78h-9.2v-21.48h12.26l.82-33.02,1,33.02h12.26v21.48h-9.2c3.07,120.7,28.61,213.78,28.61,213.78,0,0,6.06,29.18,32.7,98.2,12.31,33.11,30.97,63.79,48.01,87.78l.37.75c39.78-25.02,84.96-73.88,84.96-166.76,0-118.41-70.54-166.24-127.53-185.57"]
    return(
        <>
            <defs>
                {getLinearGradient(gradientRef, secondGradientRef, buildingIndex, 0, 0.033, 0.15, 0.033, 0.25)}
            </defs>
            <path className={`${styles.buildingaccents}`} stroke={`url(#draw-in-${buildingIndex})`} d={accents[buildingIndex]}>
                {getAnimateTransform(accentsTransformRef, buildingIndex, 0, 0.183, 0.033, 0.25)}
            </path>

            <path className={`${styles.building}`} d={outlines[buildingIndex]}>
                {getAnimateStroke(strokeRef, buildingIndex, 2300, 0, 0.0165, 0.15, 0.25)}
                {getAnimateTransform(transformRef, buildingIndex, 0, 0.183, 0.033, 0.25)}
            </path>
        </>
    )
}