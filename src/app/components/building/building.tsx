'use client'

import { useRef } from 'react';
import styles from './styles.module.css'
import { getLinearGradient, getAnimateTransform, getAnimateStroke } from '../utils';

interface FreedomTowerPropsInterface {
    buildingIndex: number
}

export default function Building(props: FreedomTowerPropsInterface) {
    const { buildingIndex } = props;

    const strokeRef = useRef<SVGAnimateElement>(null)
    const transformRef = useRef<SVGAnimateTransformElement>(null)
    const gradientRef = useRef<SVGAnimateElement>(null)
    const secondGradientRef = useRef<SVGAnimateElement>(null)
    const accentsTransformRef = useRef<SVGAnimateTransformElement>(null)

    // const accents = ["M213.46,220.38l-53.83,440.28m52.75-440.01l53.84,440.61m-107.97,59.09h109.66m-91.61-440.01l30.54-15.27m-30.54,31.93l29.15-15.27m-29.15,33.31l26.37-12.49m-26.37,29.15l24.98-11.1m-24.98,30.54l22.21-9.72m-22.21,24.98l19.43-8.33m-19.43,23.6l18.04-8.33m-18.04,24.98l15.27-5.55m-15.27,22.21l13.88-5.55m-13.88,23.6l11.1-4.16m-11.1,22.21l9.72-4.16m-9.72,20.82l6.94-2.78m-6.94,18.04l5.55-1.39m-5.55-216.54l33.31-18.04m39.32,33.12l-30.54-15.27m30.54,31.93l-29.15-15.27m29.15,33.31l-26.37-12.49m26.37,29.15l-24.98-11.1m24.98,30.54l-22.21-9.72m22.21,24.98l-19.43-8.33m19.43,23.6l-18.04-8.33m18.04,24.98l-15.27-5.55m15.27,22.21l-13.88-5.55m13.88,23.6l-11.1-4.16m11.1,22.21l-9.72-4.16m9.72,20.82l-6.94-2.78m6.94,18.04l-5.55-1.39m5.55-216.54l-33.31-18.04m-31-1.2l24.98-5.55m30.54,5.55l-25.22-5.55m-9.48-49.97h13.88m-13.88-34.7h13.88",
    //                 "M188.99,291.79h48.48m-48.48-19.1h49.95m-42.6-17.63h35.26m-26.44-35.26h17.63m-45.54,380.47h23.5m-29.38-32.32h27.91m-14.69-127.8h24.97m-32.32-24.97h26.44m-22.03-47.01h26.44m-33.79-22.03h23.5m58.76,254.14h-23.5m29.38-32.32h-27.91m14.69-127.8h-24.97m32.32-24.97h-26.44m22.03-47.01h-26.44m33.79-22.03h-23.5m-60.23,163.06h26.44m-35.26-24.97l36.72,.73m54.35,24.24h-26.44m35.26-24.97h-35.26m-17.63,134.41s17.47-2.94,17.47,19.15m0,0c0,22.09-20.57,22.44-20.57,22.44m0,0s-18.34,.34-18.7-20.57m0,0c-.38-22.58,21.8-21.02,21.8-21.02m-52.88-.73s7.59,6.38,33.79,8.81m-36.72,14.69s11.12,9.47,36.72,8.81m33.79-23.5s22.14,1.47,38.19-7.34m-39.66,32.32s24.93,4.32,42.6-10.28m-113.11,127.8h52.88m-48.48-26.44h42.6m-36.72-26.44h29.38m-23.5-26.44h19.1m85.2,79.33h-52.88m48.48-26.44h-42.6m36.72-26.44h-29.38m23.5-26.44h-19.1",
    //                 "M171.23,612.97h81.18m-39.14,184.24v-65.28m-.72-30.46v-65.28m1.45-23.21v-65.28m-42.77,153.77h81.18m-84.14-168.61h90.01m-91.4-30.13h89.88m-76.83-73.99h65.24m-72.48-18.86h78.28m-78.28-36.27h78.28m-78.28-20.31h78.28m-62.34-34.82h46.39m-46.39-49.32h46.39m-1.88,197.16c0,22.08-21.31,21.33-21.31,21.33,0,0-21.31-.07-21.31-17.77m0,0c0-26.29,21.31-25.91,21.31-25.91,0,0,21.31-4.74,21.31,22.35m-21.31-13.65v18.13l11.6-3.63m-30.44,330.03v-65.28m42.04,65.28v-65.28m-42.77-30.46v-65.28m42.04,65.28v-65.28m-40.59-23.21v-65.28m42.04,65.28v-65.28m-55.81-44.97v-73.99m65.24,0v73.99", 
    //                 "M150.01,605.93s11.99-15.67,27.19-49.58m10.33-26.85c5.56-18.23,10.96-39.98,15.49-66.1m4.13-29.95c2.57-19.45,5.05-41.25,6.2-63m69.9,239.62s-10.26-9.96-27.55-53.71m-10.33-25.82c-5.86-18.54-11.57-40.83-16.29-66.76m-3.89-30.34c-4.01-19.17-5.49-39.56-6.67-61.95m-5.16-1.03h5.16m-121.88,265.44h36.15m-15.49-30.99h35.12m-20.66-23.76h33.05m3.1-86.76h28.92m-6.2-84.69h19.62m-15.49-18.59h17.56m-13.43-20.66h33.05m103.29,265.05h-36.15m15.49-30.99h-35.12m20.66-23.76h-33.05m-3.1-86.76h-28.92m6.2-84.69h-19.62m15.49-18.2h-17.56m-75.4,165.26h143.57m-134.27-26.85h123.94m-100.19-66.1h77.46m-69.2-29.95h60.94m-46.48-76.43h30.99m-28.92-15.49h26.85m-13.77-139.44v140.47"]
    // const outlines = ["M212.37,125.99v94.39h-27.76v24.98l-18.04,4.16-11.1,546.89h59.69m-2.78-670.43v94.39h27.76v24.98l18.04,4.16,11.1,546.89h-54.13", 
    //                  "M212.49,135.23s-8.86,0-8.81,26.44v58.76s-8.81,3.43-8.81,20.57v14.69h-8.81s1.55,55.7,10.28,64.64h-47.01l14.69,66.1h-19.1l16.16,69.04h-17.63l16.16,80.79h-14.69l14.69,89.61-26.44,170.4h79.33m0-661.05s8.86,0,8.81,26.44v58.76s8.81,3.43,8.81,20.57v14.69h8.81s-1.55,55.7-10.28,64.64h47.01l-14.69,66.1h19.1l-16.16,69.04h17.63l-16.16,80.79h14.69l-14.69,89.61,26.44,170.4h-79.33m-17.63-540.59", 
    //                  "M211.82,116.92v75.49l-29.04,75.49h5.81v49.36l-15.97,34.84v56.62h-13.07v84.2l7.26,8.71v30.49l4.36,2.9v261.32h40.65m0-679.44v75.49l29.04,75.49h-5.81v49.36l15.97,34.84v56.62h13.07v84.2l-7.26,8.71v30.49l-4.36,2.9v261.32h-40.65",
    //                  "M214.89,576.49s-82.08-3.19-92.95,101.22H59.98s61.54-63.36,89.85-139.44c26.92-69.69,33.05-99.15,33.05-99.15,0,0,25.82-93.99,28.92-215.87h-9.29v-21.69h12.39v-33.05m0,407.98s82.1-3.7,92.97,100.7h61.97s-61.54-63.36-89.85-139.44c-26.92-69.69-33.07-98.64-33.07-98.64,0,0-25.82-93.99-28.92-215.87h9.29v-21.69h-12.39v-33.05"]
    const accents = ["M187.51,370.82s-14.48,109.98-29,229.67m29-229.67s14.54,109.47,29,228.67m-79.91-145.12l42.26-21.14m-42.26,44.2l40.34-21.14m-40.34,46.12l36.5-17.3m-36.5,40.36l34.58-15.37m-34.58,42.28l30.74-13.45m-30.74,34.59l26.9-11.53m-26.9-128.76l46.11-24.98m54.43,45.86l-42.26-21.14m42.26,44.2l-40.34-21.14m40.34,46.12l-36.5-17.3m36.5,40.36l-34.58-15.37m34.58,42.28l-30.74-13.45m30.74,34.59l-26.9-11.53m26.9-128.76l-46.11-24.98m-42.52-3.16l34.2-6.18m43.8,6.18l-36.45-6.18m-11.55-73.25h19m-19-44.02h19m-78,307.12c.03,.77,64.78,30.12,134,1",
                    "M147.65,582.96h81.74m-69.97-.05l.09-67.02h59.33l.78,68.02m-66.7-85.11h71.19m-71.19-32.87h71.19m-71.19-18.41h71.19m-56.67-30.74h42.14m-43.15-44.04h43.15m-21.07,152.97s-22.86,0-22.86,22.81,22.86,22.81,22.86,22.81c0,0,22.86,0,22.86-22.81s-22.86-22.81-22.86-22.81Zm0,4.16v19.02l10.03-3m-52.18,52.04s37.15,10.81,82.28,0",
                    "M172.42,340.08h29.79m-29.79-11.74h30.69m-26.18-10.84h21.67m-16.25-21.68h10.83m-27.99,233.94h14.44m-18.06-19.87h17.15m-9.03-78.58h15.35m-19.86-15.36h16.25m-13.54-28.9h16.25m-20.76-13.55h14.44m36.11,156.26h-14.44m18.06-19.87h-17.15m9.03-78.58h-15.35m19.86-15.36h-16.25m13.54-28.9h-16.25m20.76-13.55h-14.44m-37.01,100.26h16.25m-21.67-15.36l22.57,.45m33.4,14.9h-16.25m21.67-15.36h-21.67m-10.83,82.65s10.73-1.81,10.73,11.77m0,0c0,13.58-12.64,13.79-12.64,13.79m0,0s-11.27,.21-11.49-12.65m0,0c-.23-13.88,13.4-12.92,13.4-12.92m-32.5-.45s4.66,3.92,20.76,5.42m-22.57,9.03s6.83,5.82,22.57,5.42m20.76-14.45s13.6,.9,23.47-4.52m-24.38,19.87s15.32,2.65,26.18-6.32m-77.03,42.59s39.59,11.68,84,0", 
                    "M172.42,340.08h29.79m-29.79-11.74h30.69m-26.18-10.84h21.67m-16.25-21.68h10.83m-27.99,233.94h14.44m-18.06-19.87h17.15m-9.03-78.58h15.35m-19.86-15.36h16.25m-13.54-28.9h16.25m-20.76-13.55h14.44m36.11,156.26h-14.44m18.06-19.87h-17.15m9.03-78.58h-15.35m19.86-15.36h-16.25m13.54-28.9h-16.25m20.76-13.55h-14.44m-37.01,100.26h16.25m-21.67-15.36l22.57,.45m33.4,14.9h-16.25m21.67-15.36h-21.67m-10.83,82.65s10.73-1.81,10.73,11.77m0,0c0,13.58-12.64,13.79-12.64,13.79m0,0s-11.27,.21-11.49-12.65m0,0c-.23-13.88,13.4-12.92,13.4-12.92m-32.5-.45s4.66,3.92,20.76,5.42m-22.57,9.03s6.83,5.82,22.57,5.42m20.76-14.45s13.6,.9,23.47-4.52m-24.38,19.87s15.32,2.65,26.18-6.32m-77.03,42.59s39.59,11.68,84,0"]
    const outlines = ["M132.23,320.25c-41.69,14.89-91.72,50.64-91.72,136.46,0,77.05,40.34,113.74,78.75,131.21l.25-19.14c1.88-92.77,4.73-158.09,4.73-158.09l24.92-5.76v-34.53l37.32-.33,1.02-130.12,.98,130.12,37.37,.55v34.53l24.92,5.76s-.15,65.21,1.73,157.87l.96,20.16c39.08-17.05,81.04-53.65,81.04-132.23,0-87.67-52.22-123.08-94.41-137.39", 
                     "M132.54,319.99c-41.68,14.87-91.71,50.57-91.71,136.27,0,0-4.32,114.64,105.46,141.03v-14.31l-6.53-7.84v-75.75h11.76v-50.94l14.38-31.35v-44.41h-5.23l26.65-67.64v-65.3l.08,65.3,26.35,66.85h-5.3v44.41l14.38,31.35v50.94h13.07v75.75l-7.84,7.84v15.57s106.75-18.79,106.75-141.49c0-87.54-52.21-122.91-94.4-137.2", 
                     "M132.29,319.97c-41.68,14.88-91.71,50.59-91.71,136.31,0,0-3.82,115.15,105.97,141.55h0c4.1-26.46,8.44-52.75,8.44-52.75l-9.02-55.02h9.02l-9.92-49.61h10.82l-9.92-42.39h11.72l-9.02-40.59h28.85c-5.36-5.49-6.31-39.69-6.31-39.69h5.41v-9.02c0-10.52,5.41-12.63,5.41-12.63v-36.08c-.03-16.24,5.41-16.24,5.41-16.24h.22s5.44,0,5.41,16.24v36.08s5.41,2.1,5.41,12.63v9.02h5.41s-.95,34.2-6.31,39.69h28.85l-9.02,40.59h11.72l-9.92,42.39h10.82l-9.92,49.61h9.02l-9.02,55.02s3.37,26.66,7.42,52.75h.25s106.75-18.8,106.75-141.55c0-87.57-52.21-122.95-94.4-137.25",
                     "M132.29,319.97c-41.68,14.88-91.71,50.59-91.71,136.31,0,0-3.82,115.15,105.97,141.55h0c4.1-26.46,8.44-52.75,8.44-52.75l-9.02-55.02h9.02l-9.92-49.61h10.82l-9.92-42.39h11.72l-9.02-40.59h28.85c-5.36-5.49-6.31-39.69-6.31-39.69h5.41v-9.02c0-10.52,5.41-12.63,5.41-12.63v-36.08c-.03-16.24,5.41-16.24,5.41-16.24h.22s5.44,0,5.41,16.24v36.08s5.41,2.1,5.41,12.63v9.02h5.41s-.95,34.2-6.31,39.69h28.85l-9.02,40.59h11.72l-9.92,42.39h10.82l-9.92,49.61h9.02l-9.02,55.02s3.37,26.66,7.42,52.75h.25s106.75-18.8,106.75-141.55c0-87.57-52.21-122.95-94.4-137.25"]
    return(
        <>
            <defs>
                {getLinearGradient(gradientRef, secondGradientRef, buildingIndex, 0, 0.033, 0.15, 0.033, 0.25)}
            </defs>
            <path className={`${styles.freedomtoweraccents} ${styles.buildingaccents}`} stroke={`url(#draw-in-${buildingIndex})`} d={accents[buildingIndex]}>
                {/* {getAnimateTransform(accentsTransformRef, buildingIndex, 0, 0.183, 0.033, 0.25)} */}
            </path>

            <path className={`${styles.freedomtower} ${styles.building}`} d={outlines[buildingIndex]}>
                {getAnimateStroke(strokeRef, buildingIndex, 1600, 0, 0.0165, 0.15, 0.25)}
                {/* {getAnimateTransform(transformRef, buildingIndex, 0, 0.183, 0.033, 0.25)} */}
            </path>
        </>
    )
}